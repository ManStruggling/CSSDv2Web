(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4edc44c6"],{"054d":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table_box",attrs:{id:"jubu"}},[r("div",{staticClass:"madeBySelfBox"},[r("p",[r("el-select",{staticClass:"green18x10",model:{value:t.selectReport,callback:function(e){t.selectReport=e},expression:"selectReport"}},t._l(t.reportList,function(t,e){return r("el-option",{key:e,attrs:{label:t.ReportName,value:t.ReportId}})}),1),r("el-date-picker",{attrs:{type:"daterange",align:"right",clearable:!1,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.GLOBAL.pickerOptions,"value-format":"yyyy-MM-dd"},model:{value:t.search_date,callback:function(e){t.search_date=e},expression:"search_date"}}),r("el-button",{staticClass:"btn120x40",attrs:{type:"primary"},on:{click:t.creatReport}},[t._v("查询报表")])],1),r("el-button",{on:{click:t.setpdf}},[t._v("打印")])],1),r("el-table",{attrs:{data:t.tableData,"show-summary":"","row-key":"Id",border:"",height:"100%"}},t._l(t.columnList,function(e,n){return r("el-table-column",{key:n,attrs:{label:e.DisplayName,prop:t.dropCol[n].SpliceName,filters:e.FilterArr,"filter-method":t.filterData,"column-key":n+"",sortable:"","sort-by":t.dropCol[n].SpliceName}})}),1)],1)},i=[],o=(r("ac6a"),r("4f7f"),r("5df3"),r("1c4c"),r("6b54"),r("aa47")),a={data:function(){return{search_date:[],selectReport:"",reportList:[],columnList:[],dropCol:[],tableData:[],emptyColumns:[]}},created:function(){var t=this;axios("/api/Report").then(function(e){200==e.data.Code?t.reportList=e.data.Data:t.showInformation({classify:"message",msg:e.data.Msg})}).catch(function(t){})},mounted:function(){this.rowDrop()},methods:{filterData:function(t,e,r){for(var n=0;n<this.columnList.length;n++)if(this.columnList[n].DisplayName===r.label)return e[this.columnList[n].SpliceName]==t},creatReport:function(){var t=this;if(this.GLOBAL.VerificationHandle([{val:this.selectReport,type:"StringNotEmpty",msg:"请选择报表！"},{val:this.search_date,type:"ArrayNotEmpty",msg:"请选择查询日期！"}])){for(var e="",r=0;r<this.reportList.length;r++)if(this.selectReport===this.reportList[r].ReportId){e=this.reportList[r].ReportUrl,this.columnList=JSON.parse(JSON.stringify(this.reportList[r].Parameters)),this.columnList.length,this.dropCol=JSON.parse(JSON.stringify(this.columnList));break}axios("".concat(e,"&$filter=CreatedTime ge ").concat(this.search_date[0]," and CreatedTime le ").concat(this.search_date[1])).then(function(e){for(var r=e.data.value,n=[],i=0;i<r.length;i++){var o={},a=[];for(var c in r[i])if("[object Array]"==Object.prototype.toString.call(r[i][c]))for(var l=t.collationArrayData(c,r[i][c]),s=0;s<l.length;s++)a.push(l[s]);else if("[object Object]"==Object.prototype.toString.call(r[i][c])){var u=t.collationObjectData(c,r[i][c]);if(1==u.length)Object.assign(o,u[0]);else for(var f=0;f<u.length;f++)a.push(u[f])}else/Time$/.test(c)&&(r[i][c]=r[i][c].slice(0,10)+" "+r[i][c].slice(11,19)),o[c]=r[i][c];if(""==a)n.push(o);else for(var p=0;p<a.length;p++)n.push(Object.assign(a[p],o))}for(var d=0;d<n.length;d++)n[d].Id=d+1;t.tableData=n;for(var h=0;h<t.columnList.length;h++){for(var v=[],b=0;b<t.tableData.length;b++)v.push(t.tableData[b][t.columnList[h].SpliceName]);t.columnList[h].FilterArr=t.unique(v);for(var y=0;y<t.columnList[h].FilterArr.length;y++)t.columnList[h].FilterArr[y]={text:t.columnList[h].FilterArr[y],value:t.columnList[h].FilterArr[y]}}}).catch(function(t){})}},collationObjectData:function(t,e){var r=[],n={};for(var i in e)if("[object Array]"==Object.prototype.toString.call(e[i]))for(var o=this.collationArrayData(t+i,e[i]),a=0;a<o.length;a++)r.push(o[a]);else if("[object Object]"==Object.prototype.toString.call(e[i])){var c=this.collationObjectData(t+i,e[i]);if(1==c.length)Object.assign(n,c[0]);else for(var l=0;l<c.length;l++)r.push(c[l])}else/Time$/.test(t+i)&&(e[i]=e[i].slice(0,10)+" "+e[i].slice(11,19)),n[t+i]=e[i];if(""==r)return r.push(n),r;for(var s=0;s<r.length;s++)Object.assign(r[s],n);return r},unique:function(t){return Array.from(new Set(t))},collationArrayData:function(t,e){for(var r=[],n=0;n<e.length;n++)for(var i=this.collationObjectData(t,e[n]),o=0;o<i.length;o++)r.push(i[o]);return r},rowDrop:function(){var t=this,e=document.querySelector("#jubu .el-table__body-wrapper tbody");o["a"].create(e,{animation:180,delay:0,onEnd:function(e){var r=e.newIndex,n=e.oldIndex,i=t.tableData.splice(n,1)[0];t.tableData.splice(r,0,i)}})},columnDrop:function(){var t=this,e=document.querySelector("#jubu .el-table__header-wrapper tr");this.sortable=o["a"].create(e,{animation:180,delay:0,onEnd:function(e){var r=t.dropCol[e.oldIndex];t.dropCol.splice(e.oldIndex,1),t.dropCol.splice(e.newIndex,0,r)}})},setpdf:function(){var t='<div id="viewEffect"><table class="table table-bordered table-striped text-center" cellpadding="10" cellspacing="10" width="100%"><thead><tr class="tr_th">';this.dropCol.forEach(function(e){t+="<th>".concat(e.DisplayName,"</th>")}),t+="</tr></thead><tbody>",t+=$(".el-table__body-wrapper tbody").html(),t+="</tbody><tfoot>",t+=$(".el-table__footer-wrapper tbody").html(),t+="</tfoot></table></div>",window.document.body.innerHTML=t,window.print(),this.$router.go(0)}}},c=a,l=(r("c7b7"),r("2877")),s=Object(l["a"])(c,n,i,!1,null,null,null);e["default"]=s.exports},"11e9":function(t,e,r){var n=r("52a7"),i=r("4630"),o=r("6821"),a=r("6a99"),c=r("69a8"),l=r("c69a"),s=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?s:function(t,e){if(t=o(t),e=a(e,!0),l)try{return s(t,e)}catch(r){}if(c(t,e))return i(!n.f.call(t,e),t[e])}},"1c4c":function(t,e,r){"use strict";var n=r("9b43"),i=r("5ca1"),o=r("4bf8"),a=r("1fa8"),c=r("33a4"),l=r("9def"),s=r("f1ae"),u=r("27ee");i(i.S+i.F*!r("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,f,p=o(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,b=void 0!==v,y=0,g=u(p);if(b&&(v=n(v,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&c(g))for(e=l(p.length),r=new d(e);e>y;y++)s(r,y,b?v(p[y],y):p[y]);else for(f=g.call(p),r=new d;!(i=f.next()).done;y++)s(r,y,b?a(f,v,[i.value,y],!0):i.value);return r.length=y,r}})},"4f7f":function(t,e,r){"use strict";var n=r("c26b"),i=r("b39a"),o="Set";t.exports=r("e0b8")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,o),t=0===t?0:t,t)}},n)},"5dbc":function(t,e,r){var n=r("d3f4"),i=r("8b97").set;t.exports=function(t,e,r){var o,a=e.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(t,o),t}},"5df3":function(t,e,r){"use strict";var n=r("02f4")(!0);r("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},"67ab":function(t,e,r){var n=r("ca5a")("meta"),i=r("d3f4"),o=r("69a8"),a=r("86cc").f,c=0,l=Object.isExtensible||function(){return!0},s=!r("79e5")(function(){return l(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++c,w:{}}})},f=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[n].i},p=function(t,e){if(!o(t,n)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[n].w},d=function(t){return s&&h.NEED&&l(t)&&!o(t,n)&&u(t),t},h=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:p,onFreeze:d}},"8b97":function(t,e,r){var n=r("d3f4"),i=r("cb7c"),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},"9e89":function(t,e,r){},ac6a:function(t,e,r){for(var n=r("cadf"),i=r("0d58"),o=r("2aba"),a=r("7726"),c=r("32e9"),l=r("84f2"),s=r("2b4c"),u=s("iterator"),f=s("toStringTag"),p=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(d),v=0;v<h.length;v++){var b,y=h[v],g=d[y],_=a[y],m=_&&_.prototype;if(m&&(m[u]||c(m,u,p),m[f]||c(m,f,y),l[y]=p,g))for(b in n)m[b]||o(m,b,n[b],!0)}},b39a:function(t,e,r){var n=r("d3f4");t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,r){"use strict";var n=r("86cc").f,i=r("2aeb"),o=r("dcbc"),a=r("9b43"),c=r("f605"),l=r("4a59"),s=r("01f9"),u=r("d53b"),f=r("7a56"),p=r("9e1e"),d=r("67ab").fastKey,h=r("b39a"),v=p?"_s":"size",b=function(t,e){var r,n=d(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,s){var u=t(function(t,n){c(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=n&&l(n,r,t[s],t)});return o(u.prototype,{clear:function(){for(var t=h(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var r=h(this,e),n=b(r,t);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[v]--}return!!n},forEach:function(t){h(this,e);var r,n=a(t,arguments.length>1?arguments[1]:void 0,3);while(r=r?r.n:this._f){n(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(t){return!!b(h(this,e),t)}}),p&&n(u.prototype,"size",{get:function(){return h(this,e)[v]}}),u},def:function(t,e,r){var n,i,o=b(t,e);return o?o.v=r:(t._l=o={i:i=d(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:b,setStrong:function(t,e,r){s(t,e,function(t,r){this._t=h(t,e),this._k=r,this._l=void 0},function(){var t=this,e=t._k,r=t._l;while(r&&r.r)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?u(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,u(1))},r?"entries":"values",!r,!0),f(e)}}},c7b7:function(t,e,r){"use strict";var n=r("9e89"),i=r.n(n);i.a},e0b8:function(t,e,r){"use strict";var n=r("7726"),i=r("5ca1"),o=r("2aba"),a=r("dcbc"),c=r("67ab"),l=r("4a59"),s=r("f605"),u=r("d3f4"),f=r("79e5"),p=r("5cc5"),d=r("7f20"),h=r("5dbc");t.exports=function(t,e,r,v,b,y){var g=n[t],_=g,m=b?"set":"add",L=_&&_.prototype,S={},w=function(t){var e=L[t];o(L,t,"delete"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof _&&(y||L.forEach&&!f(function(){(new _).entries().next()}))){var O=new _,D=O[m](y?{}:-0,1)!=O,x=f(function(){O.has(1)}),k=p(function(t){new _(t)}),j=!y&&f(function(){var t=new _,e=5;while(e--)t[m](e,e);return!t.has(-0)});k||(_=e(function(e,r){s(e,_,t);var n=h(new g,e,_);return void 0!=r&&l(r,b,n[m],n),n}),_.prototype=L,L.constructor=_),(x||j)&&(w("delete"),w("has"),b&&w("get")),(j||D)&&w(m),y&&L.clear&&delete L.clear}else _=v.getConstructor(e,t,b,m),a(_.prototype,r),c.NEED=!0;return d(_,t),S[t]=_,i(i.G+i.W+i.F*(_!=g),S),y||v.setStrong(_,t,b),_}},f1ae:function(t,e,r){"use strict";var n=r("86cc"),i=r("4630");t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}}}]);