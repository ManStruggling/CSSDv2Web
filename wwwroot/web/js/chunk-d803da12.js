(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d803da12"],{"86f3":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"cssd_box",attrs:{id:"driverSchedule"}},[s("div",{staticClass:"cssd_title"},[s("ul",{staticClass:"cssd_menu"},[s("li",{on:{click:t.goBack}},[s("p",[t._v("返回")])]),s("router-link",{attrs:{to:"/logistics/subClinicUsedPackage",tag:"li"}},[s("p",[t._v("查看已使用包")])]),s("router-link",{attrs:{to:"/logistics/driverScheduleRecord",tag:"li"}},[s("p",[t._v("制定记录")])])],1),s("div",{staticClass:"cssd_title_right"})]),s("div",{staticClass:"cssd_table_center cssd_totalBar table_unExpand"},[s("div",{staticClass:"table_box"},[s("ul",[s("li",[s("p",{staticClass:"font16gray"},[t._v("任务类型")]),s("div",{staticClass:"el_input_box"},[s("el-select",{staticClass:"green24x13",model:{value:t.submitData.LogisticsType,callback:function(a){t.$set(t.submitData,"LogisticsType",a)},expression:"submitData.LogisticsType"}},[s("el-option",{attrs:{label:"回收",value:0}}),s("el-option",{attrs:{label:"发放",value:1}})],1)],1)]),s("li",{staticStyle:{width:"304px"}},[s("p",{staticClass:"font16gray"},[t._v("日期")]),s("div",{staticClass:"el_input_box",staticStyle:{width:"230px"}},[s("el-date-picker",{attrs:{type:"datetime",clearable:!1,"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间"},model:{value:t.submitData.PlanTime,callback:function(a){t.$set(t.submitData,"PlanTime",a)},expression:"submitData.PlanTime"}})],1)]),s("li",[s("p",{staticClass:"font16gray"},[t._v("车辆")]),s("div",{staticClass:"el_input_box"},[s("el-select",{staticClass:"green24x13",model:{value:t.submitData.LogisticsCarId,callback:function(a){t.$set(t.submitData,"LogisticsCarId",a)},expression:"submitData.LogisticsCarId"}},t._l(t.data.Cars,function(t,a){return s("el-option",{key:a,attrs:{label:t.LogisticsCarName,value:t.LogisticsCarId}})}),1)],1)]),s("li",[s("p",{staticClass:"font16gray"},[t._v("司机")]),s("div",{staticClass:"el_input_box"},[s("el-select",{staticClass:"green24x13",model:{value:t.submitData.DriverId,callback:function(a){t.$set(t.submitData,"DriverId",a)},expression:"submitData.DriverId"}},t._l(t.data.Drivers,function(t,a){return s("el-option",{key:a,attrs:{label:t.DriverName,value:t.DriverId}})}),1)],1)])]),s("el-table",{attrs:{data:t.submitData.Locations}},[s("el-table-column",{attrs:{label:"抵达科室",width:"240"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("el-select",{staticClass:"green18x10",model:{value:a.row.ClinicId,callback:function(s){t.$set(a.row,"ClinicId",s)},expression:"props.row.ClinicId"}},t._l(t.data.Locations,function(t,a){return s("el-option",{key:a,attrs:{label:t.ClinicName,value:t.ClinicId}})}),1)]}}])}),s("el-table-column",{attrs:{label:"操作",width:"210"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("a",{staticClass:"deleteThisTr",on:{click:function(s){return t.deleteThisTr(a.$index)}}},[t._v("删除")])]}}])}),s("el-table-column")],1),s("h5",[s("el-button",{staticClass:"btn120x40",attrs:{type:"primary"},on:{click:t.addSchedule}},[t._v("新增路线")])],1)],1),s("div",{staticClass:"cssd_table_bottom"},[s("p"),s("p",[s("el-button",{attrs:{type:"primary"},on:{click:t.submitComplete}},[t._v("制定完成")])],1)])])])},e=[],l={data:function(){return{submitData:{LogisticsType:"",DriverId:"",LogisticsCarId:"",PlanTime:"",Locations:[]},data:{Locations:[],Drivers:[],Cars:[]}}},created:function(){var t=this;axios("/api/Logistics/DriverScheduleInitialVm").then(function(a){200==a.data.Code?t.data=a.data.Data:t.showInformation({classify:"message",msg:a.data.Msg})}).catch(function(t){})},methods:{submitComplete:function(){var t=this;axios({url:"/api/Logistics/DriverScheduleSubmit",method:"Post",data:this.submitData}).then(function(a){var s;s=200==a.data.Code?"success":"error",t.showInformation({classify:"message",msg:a.data.Msg,type:s})}).catch(function(t){})},addSchedule:function(){this.submitData.Locations.push({ClinicId:""})},cancelChange:function(){},deleteThisTr:function(t){var a=this;this.$confirm("您确定要删除该行程吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.submitData.Locations.splice(t,1)}).catch(function(){})},goBack:function(){this.$router.push("/")}}},c=l,n=(s("f20c"),s("2877")),o=Object(n["a"])(c,i,e,!1,null,null,null);a["default"]=o.exports},"9c4b":function(t,a,s){},f20c:function(t,a,s){"use strict";var i=s("9c4b"),e=s.n(i);e.a}}]);