(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6abdf02"],{"0ce2":function(t,a,e){},1:function(t,a){},"1a3f":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"basic_main"},[e("div",{staticClass:"basic_main_head"},[e("p"),e("p",[t.GLOBAL.UserInfo.JobAndCompetence.includes("000")?e("a",{attrs:{href:"\\ImportBaseData\\网篮汇入.xlsx",download:"网篮汇入"}},[t._v("下载模板")]):t._e(),t.GLOBAL.UserInfo.JobAndCompetence.includes("000")?e("el-button",{staticClass:"importData"},[e("input",{attrs:{type:"file",id:"fileUploader",name:"fileUploader",accept:".xls, .xlsx"},on:{change:t.fileChange}})]):t._e(),e("el-button",{on:{click:t.handlePrint}},[t._v("打印条码")]),e("el-button",{staticClass:"basic_ipt_add",attrs:{type:"primary"},on:{click:t.addTableTr}},[t._v("新增网篮")])],1)]),e("div",{staticClass:"basic_table table_unExpand"},[e("el-table",{attrs:{data:t.table_data}},[e("el-table-column",{attrs:{label:"网篮名称",prop:"Name",width:"240"}}),e("el-table-column",{attrs:{label:"条码",prop:"BarCode",width:"210"}}),e("el-table-column",{attrs:{label:"旧条码",prop:"OldBarCode",width:"210"}}),e("el-table-column",{attrs:{label:"操作",width:"210"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("a",{staticClass:"change_this_tr",on:{click:function(e){return e.stopPropagation(),t.editThisTr(a.$index)}}},[t._v("编辑")]),e("a",{staticClass:"delete_this_tr",on:{click:function(e){return e.stopPropagation(),t.deleteThisTr(a.$index)}}},[t._v("删除")])]}}])}),e("el-table-column")],1)],1),e("transition",{attrs:{name:"fade","enter-active-class":"animated fadeIn faster","leave-active-class":"animated fadeOut faster"}},[t.isShowBarCodeList?e("PrintBarCodeList",{attrs:{data:t.table_data,labels:[{prop:"BarCode",label:"网篮条码"},{prop:"Name",label:"网篮名称"}],printUrl:"/api/Print/Carrier"},on:{"printList-to-father":t.barCodeListToFather}}):t._e()],1),e("transition",{attrs:{name:"fade","enter-active-class":"animated fadeIn faster","leave-active-class":"animated fadeOut faster"}},[t.showEditBox?e("CarrierBox",{attrs:{data:t.toChildData},on:{"to-father":t.child2father}}):t._e()],1)],1)},n=[],s=(e("ac6a"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"editBox"}},[e("div",{staticClass:"editContainer"},[e("div",{staticClass:"editContent"},[e("ul",{staticClass:"clear_float"},[e("li",[e("p",[t._v("网篮名称")]),e("el-input",{attrs:{type:"text",placeholder:"网篮名称(必填)",maxlength:"10"},model:{value:t.editBoxData.Name,callback:function(a){t.$set(t.editBoxData,"Name","string"===typeof a?a.trim():a)},expression:"editBoxData.Name"}})],1),e("li",[e("p",[t._v("网篮旧条码")]),e("el-input",{attrs:{type:"text",placeholder:"旧网篮条码"},model:{value:t.editBoxData.OldBarCode,callback:function(a){t.$set(t.editBoxData,"OldBarCode","string"===typeof a?a.trim():a)},expression:"editBoxData.OldBarCode"}})],1),e("li",[e("p",[t._v("网篮条码")]),e("el-input",{attrs:{type:"text",disabled:!0},model:{value:t.editBoxData.BarCode,callback:function(a){t.$set(t.editBoxData,"BarCode",a)},expression:"editBoxData.BarCode"}})],1)])]),e("div",{staticClass:"editBoxOption"},[e("el-button",{on:{click:t.editBoxCancelSave}},[t._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.editBoxSave}},[t._v("完成")])],1)])])}),o=[],r={props:["data"],data:function(){return{editBoxData:{}}},created:function(){this.editBoxData=this.$props.data},methods:{editBoxCancelSave:function(){this.$emit("to-father","")},editBoxSave:function(){var t=this,a="";a=0==this.editBoxData.Id?"post":"put",this.GLOBAL.VerificationHandle([{val:this.editBoxData.Name,type:"StringNotEmpty",msg:"网篮名称不能为空！"}])&&axios({url:"/api/BasicInformation/Carrier",method:a,data:this.editBoxData}).then(function(a){var e;200==a.data.Code?(e="success",t.$emit("to-father",a.data.Data)):e="error",t.showInformation({classify:"message",msg:a.data.Msg,type:e})}).catch(function(t){})}}},l=r,c=e("2877"),d=Object(c["a"])(l,s,o,!1,null,null,null),h=d.exports,u=e("58d7"),f=e("1146"),p=e.n(f),m={data:function(){return{isShowBarCodeList:!1,Type:0,basic_search:"",table_data:[],showEditBox:!1,toChildData:{}}},components:{CarrierBox:h,PrintBarCodeList:u["a"]},created:function(){},watch:{$route:{handler:function(t,a,e){var i=this;this.Type=t.params.Type-0,axios("/api/BasicInformation/Carrier/".concat(this.Type)).then(function(t){200==t.data.Code?i.table_data=t.data.Data:i.showInformation({classify:"message",msg:t.data.Msg})}).catch(function(t){})},immediate:!0}},mounted:function(){},methods:{fileChange:function(t){var a=this,e={},i=t.target.files[0],n=new FileReader;n.onload=function(t){var i=t.target.result,n=p.a.read(i,{type:"binary"});n.SheetNames.forEach(function(t){e[t]=p.a.utils.sheet_to_row_object_array(n.Sheets[t]).splice(1)}),a.requestData(e.Sheet1,0)},n.onerror=function(t){this.showInformation({classify:"message",msg:"文件不能被读取！Code ".concat(t.target.error.code)})},n.readAsBinaryString(i)},requestData:function(t,a){var e=this;axios({url:"/api/BasicInformation/Carrier",method:"POST",data:t[a]}).then(function(i){200==i.data.Code?(e.Type===t[a].Type&&(e.table_data=i.data.Data),a<t.length-1&&e.requestData(t,a+1)):e.showInformation({classify:"message",msg:i.data.Msg})}).catch(function(t){})},barCodeListToFather:function(){this.isShowBarCodeList=!1},handlePrint:function(){this.isShowBarCodeList=!0},addTableTr:function(){this.toChildData={Id:0,Name:"",BarCode:"",OldBarCode:"",Type:this.Type},this.showEditBox=!0},searchThisTableData:function(){},editThisTr:function(t){this.toChildData=JSON.parse(JSON.stringify(this.table_data[t])),this.showEditBox=!0},deleteThisTr:function(t){var a=this;this.$confirm("您是否确定删除该项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){axios.delete("/api/BasicInformation/Carrier/".concat(a.Type,"/").concat(a.table_data[t].Id),{headers:{}}).then(function(t){200==t.data.Code?a.table_data=t.data.Data:a.showInformation({classify:"message",msg:t.data.Msg})}).catch(function(t){})}).catch(function(){})},child2father:function(t){this.showEditBox=!1,t&&(this.table_data=t)}}},b=m,C=Object(c["a"])(b,i,n,!1,null,null,null);a["default"]=C.exports},2:function(t,a){},2681:function(t,a,e){"use strict";var i=e("0ce2"),n=e.n(i);n.a},3:function(t,a){},"58d7":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"barCodeList"}},[e("div",{staticClass:"barCode_box"},[e("div",{staticClass:"container"},[e("el-table",{ref:"multipleTable",attrs:{data:t.dataList,"tooltip-effect":"dark",height:"508","row-key":t.getRowKeys},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"130","reserve-selection":!0}}),t._l(t.$props.labels,function(t,a){return e("el-table-column",{key:a,attrs:{label:t.label,prop:t.prop}})}),e("el-table-column")],2)],1),e("div",{staticClass:"barCode_box_b"},[e("el-button",{staticClass:"btn88x32empty",on:{click:t.cancelSubmit}},[t._v("取消")]),e("el-button",{staticClass:"btn88x32",attrs:{type:"primary"},on:{click:t.saveSubmit}},[t._v("确定")])],1)])])},n=[],s={props:["data","labels","printUrl"],data:function(){return{checkList:[],dataList:[]}},created:function(){CSManager.handleDataThis=this,this.dataList=this.$props.data.slice(0)},mounted:function(){},methods:{getRowKeys:function(t){return t.Id},handleSelectionChange:function(t){this.checkList=t},cancelSubmit:function(){this.$emit("printList-to-father")},saveSubmit:function(){var t=this;this.GLOBAL.VerificationHandle([{val:this.checkList,type:"ArrayNotEmpty",msg:"至少选择一个打印条码！"}])&&axios({url:"".concat(this.$props.printUrl),data:this.checkList,method:"POST"}).then(function(a){200==a.data.Code?(CSManager.PrintBarcode(JSON.stringify(a.data.Data)),t.$emit("printList-to-father")):t.showInformation({classify:"message",msg:a.data.Msg})}).catch(function(t){})}}},o=s,r=(e("2681"),e("2877")),l=Object(r["a"])(o,i,n,!1,null,null,null);a["a"]=l.exports}}]);