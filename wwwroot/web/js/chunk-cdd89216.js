(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdd89216"],{"1a10":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"photoView"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"view_menu"},[t.$props.viewMode?t._e():a("h3",[a("p",{on:{click:t.switchToTakePhoto}})]),a("el-tabs",{attrs:{type:"card","tab-position":"left"},on:{"tab-click":t.tabClicked},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.list,function(e,s){return a("el-tab-pane",{key:s,attrs:{name:s+""}},[a("div",{staticClass:"imageListBox",attrs:{slot:"label"},slot:"label"},[a("img",{attrs:{src:e.Path||e.Base64String,alt:""}}),t.$props.viewMode?t._e():a("i",{staticClass:"deleteImg",on:{click:function(e){return e.stopPropagation(),t.deleteImg(s)}}})]),a("transition",{attrs:{name:"fade","enter-active-class":"animated fadeIn faster","leave-active-class":"animated fadeOut faster"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.mode,expression:"mode==0"}],staticClass:"tab_content"},[a("img",{attrs:{src:e.Path||e.Base64String,alt:""}}),t.$props.viewMode?t._e():a("el-input",{attrs:{type:"textarea",placeholder:"备注",resize:"none"},model:{value:e.Remark,callback:function(a){t.$set(e,"Remark","string"===typeof a?a.trim():a)},expression:"item.Remark"}}),t.$props.viewMode?a("p",[t._v(t._s(e.Remark))]):t._e()],1)])],1)}),1)],1),a("transition",{attrs:{name:"fade","enter-active-class":"animated fadeIn faster","leave-active-class":"animated fadeOut faster"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.mode,expression:"mode===1"}],staticClass:"view_content"},[a("img",{attrs:{src:t.image,alt:""}}),a("h5",[a("el-button",{staticClass:"btn120x40",on:{click:t.takePhoto}},[t._v("拍照")])],1)])]),a("i",{staticClass:"closePhotoView",on:{click:t.close}})],1)])},i=[],o={props:["data","viewMode","DeletedPicturesId"],data:function(){return{activeName:"-1",mode:0,image:"",list:[]}},created:function(){this.list=null==this.$props.data?[]:this.$props.data,this.list.length>0&&(this.activeName=0),this.$props.viewMode||this.switchToTakePhoto()},beforeDestroy:function(){CSManager.CloseVideo()},methods:{close:function(){this.$emit("viewPhoto-to-father",this.list)},switchToTakePhoto:function(){this.$props.viewMode||CSManager.OpenVideo(50,"",this),this.mode=1},takePhoto:function(){this.list.push({Id:0,Path:"",Base64String:this.image,Remark:""}),this.mode=0,this.activeName=this.list.length-1+""},deleteImg:function(t){var e=this;this.$confirm("您确定要删除该照片?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){0!=e.list[t].Id&&e.$props.DeletedPicturesId.push(e.list[t].Id),e.list.splice(t,1)}).catch(function(){})},tabClicked:function(){this.mode=0}}},c=o,l=(a("68c0"),a("2877")),n=Object(l["a"])(c,s,i,!1,null,null,null);e["a"]=n.exports},"3a4f":function(t,e,a){"use strict";var s=a("ecec"),i=a.n(s);i.a},5045:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cssd_box",attrs:{id:"sterilizeCheckRecord"}},[a("div",{staticClass:"cssd_title"},[a("ul",{staticClass:"cssd_menu"},[a("router-link",{attrs:{to:"/sterilize/check",tag:"li"}},[a("p",[t._v("返回")])])],1),a("div",{staticClass:"cssd_title_right"},[a("p",{staticClass:"search_date"},[a("el-date-picker",{attrs:{type:"daterange",align:"right",clearable:!1,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.GLOBAL.pickerOptions,"value-format":"yyyy-MM-dd"},model:{value:t.search_date,callback:function(e){t.search_date=e},expression:"search_date"}})],1),a("p",[a("el-button",{attrs:{type:"primary"},on:{click:t.searchRecordsData}},[t._v("查询")])],1)])]),a("div",{staticClass:"cssd_table_center cssd_record_ui"},[t._m(0),a("el-collapse",{attrs:{accordion:""}},t._l(t.recordList,function(e,s){return a("el-collapse-item",{key:s,attrs:{name:s+""}},[a("div",{staticClass:"collapseTh",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"collapseTd"},[a("p",[t._v(t._s(e.SterilizeReviewDate))])]),a("div",{staticClass:"collapseTd"},[a("p",[t._v(t._s(e.SterilizeTaskBarCode))])]),a("div",{staticClass:"collapseTd"},[a("p",[t._v(t._s(e.ChemicalReviewStatus))])])]),a("ul",{staticClass:"record_detail clear_float"},[a("li",[a("p",[t._v("灭菌开始时间")]),a("span",[t._v(t._s(e.SterilizeStartDate))])]),a("li",[a("p",[t._v("灭菌结束时间")]),a("span",[t._v(t._s(e.SterilizeEndDate))])]),a("li",[a("p",[t._v("灭菌人")]),a("span",[t._v(t._s(e.Sterilizer))])]),a("li",[a("p",[t._v("灭菌设备")]),a("span",[t._v(t._s(e.SterilizeDeviceName))])]),a("li",[a("p",[t._v("灭菌程序")]),a("span",[t._v(t._s(e.SterilizeProgramName))])]),a("li",[a("p",[t._v("当日锅次")]),a("span",[t._v(t._s(e.SterilizeTodayBatch))])]),a("li",[a("p",[t._v("总锅次")]),a("span",[t._v(t._s(e.SterilizeTotalBatch))])]),a("li",[a("p",[t._v("化学审核人")]),a("span",[t._v(t._s(e.ChemicalReviewer))])]),a("li",[a("p",[t._v("生物灭菌状态")]),a("span",[t._v(t._s(e.BiologicalReviewStatus))])]),a("li",[a("p",[t._v("生物审核人")]),a("span",[t._v(t._s(e.BiologicalReviewer))])]),a("li",[a("p",[t._v("管腔检测")]),a("span",[t._v(t._s(e.CatheterReviewStatus))])]),a("li",[a("p",[t._v("不合格包")]),a("span",[a("a",{on:{click:function(a){return t.lookFailedPackages(e.Id)}}},[t._v("查看")])])]),a("li",[a("p",[t._v("照片")]),a("span",[a("a",{on:{click:function(e){return t.handleShowPhotos(s)}}},[t._v("查看")])])])])])}),1),a("div",{directives:[{name:"show",rawName:"v-show",value:""==t.recordList,expression:"recordList==''"}],staticClass:"recordNoData"},[t._v("暂无数据")])],1),a("transition",{attrs:{name:"fade","enter-active-class":"animated fadeIn faster","leave-active-class":"animated fadeOut faster"}},[t.isShowFailedPackages?a("RecordLookFailedPackages",{attrs:{look_id:t.look_id},on:{"to-father":t.child2father}}):t._e()],1),a("transition",{attrs:{name:"fade","enter-active-class":"animated fadeIn faster","leave-active-class":"animated fadeOut faster"}},[t.isShowPhoto?a("PhotoView",{attrs:{data:t.photoData,viewMode:!0},on:{"viewPhoto-to-father":t.viewPhotoToFather}}):t._e()],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content_title"},[a("p",[t._v("审核日期")]),a("p",[t._v("灭菌编号")]),a("p",[t._v("审核结果")])])}],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"lookFailedPackages"}},[a("div",{staticClass:"container table_unExpand"},[a("el-table",{attrs:{data:t.data,height:"385"}},[a("el-table-column",{attrs:{label:"包条码",prop:"PackageBarCode",width:"240"}}),a("el-table-column",{attrs:{label:"包名称",prop:"ProductName",width:"210"}}),a("el-table-column",{attrs:{label:"包数量",prop:"ProductQuantity",width:"210"}}),a("el-table-column",{attrs:{label:"不合格原因",prop:"Cause",width:"210"}}),a("el-table-column")],1),a("span",{staticClass:"closeFailedPackages",on:{click:t.close}})],1)])},c=[],l={props:["look_id"],data:function(){return{data:[]}},created:function(){var t=this;axios({url:"/api/Sterilize/FailedPackage/".concat(this.$props.look_id)}).then(function(e){200==e.data.Code?t.data=e.data.Data:t.showInformation({classify:"message",msg:e.data.Msg})})},methods:{close:function(){this.$emit("to-father")}}},n=l,r=(a("f259"),a("2877")),d=Object(r["a"])(n,o,c,!1,null,null,null),h=d.exports,p=a("1a10"),v={data:function(){return{look_id:-1,isShowPhoto:!1,isShowFailedPackages:!1,search_date:[],endDateLimit:{},recordList:[],photoData:[]}},components:{RecordLookFailedPackages:h,PhotoView:p["a"]},created:function(){CSManager.handleDataThis=this;var t=this.GLOBAL.GetNowDate();this.search_date=[t,t],this.searchRecordsData()},mounted:function(){},methods:{handleShowPhotos:function(t){var e=this;axios({url:"/api/Sterilize/Picture/".concat(this.recordList[t].Id)}).then(function(a){200==a.data.Code?(e.recordList[t].Pictures=a.data.Data,e.photoData=e.recordList[t].Pictures,e.isShowPhoto=!0):e.showInformation({classify:"message",msg:a.data.Msg})})},viewPhotoToFather:function(){this.isShowPhoto=!1},child2father:function(){this.isShowFailedPackages=!1},lookFailedPackages:function(t){this.look_id=t,this.isShowFailedPackages=!0},searchRecordsData:function(){this.GLOBAL.searchRecord(this.search_date[0],this.search_date[1],this,"/odata/SterilizeReviewRecords","SterilizeReviewDate")}}},u=v,_=(a("3a4f"),Object(r["a"])(u,s,i,!1,null,null,null));e["default"]=_.exports},"68c0":function(t,e,a){"use strict";var s=a("c38f"),i=a.n(s);i.a},"83c1":function(t,e,a){},c38f:function(t,e,a){},ecec:function(t,e,a){},f259:function(t,e,a){"use strict";var s=a("83c1"),i=a.n(s);i.a}}]);